<!-- Header -->
<header class="hero-header">
    <div class="container">
        <h1>üë§ Meu Perfil</h1>
        <p>Gerencie suas informa√ß√µes pessoais e configura√ß√µes</p>
    </div>
</header>

<!-- Main Content -->
<div class="main-content">
    <div class="container">
        <div class="row">
            <!-- Coluna da Esquerda - Informa√ß√µes do Perfil -->
            <div class="col-md-8">
                <div class="card">
                    <div class="card-header">
                        <h3>üìã Informa√ß√µes do Perfil</h3>
                    </div>
                    <div class="card-body">
                        <form id="formPerfil">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="nome" class="form-label">Nome Completo</label>
                                        <input type="text" class="form-control" id="nome" name="nome" required>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="email" class="form-label">E-mail</label>
                                        <input type="email" class="form-control" id="email" name="email" required readonly>
                                        <small class="text-muted">E-mail n√£o pode ser alterado</small>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="novaSenha" class="form-label">Nova Senha</label>
                                        <input type="password" class="form-control" id="novaSenha" name="novaSenha" minlength="6">
                                        <small class="text-muted">Deixe em branco para manter a senha atual</small>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="confirmarSenha" class="form-label">Confirmar Nova Senha</label>
                                        <input type="password" class="form-control" id="confirmarSenha" name="confirmarSenha" minlength="6">
                                    </div>
                                </div>
                            </div>
                            
                            <button type="submit" class="btn btn-primary">
                                <i class="bi bi-check-circle"></i> Salvar Altera√ß√µes
                            </button>
                        </form>
                    </div>
                </div>
            </div>
            
            <!-- Coluna da Direita - Foto de Perfil e Estat√≠sticas -->
            <div class="col-md-4">
                <!-- Foto de Perfil -->
                <div class="card mb-4">
                    <div class="card-header">
                        <h4>üì∏ Foto de Perfil</h4>
                    </div>
                    <div class="card-body text-center">
                        <div class="profile-picture-container mb-3">
                            <img id="profilePicture" src="/uploads/default-avatar.png" alt="Foto de Perfil" class="profile-picture">
                            <div class="profile-picture-overlay" id="profilePictureOverlay">
                                <i class="bi bi-camera"></i>
                                <span>Alterar Foto</span>
                            </div>
                        </div>
                        
                        <input type="file" id="profilePictureInput" accept="image/*" style="display: none;">
                        
                        <div class="d-grid gap-2">
                            <button type="button" class="btn btn-outline-primary btn-sm" onclick="document.getElementById('profilePictureInput').click()">
                                <i class="bi bi-upload"></i> Escolher Foto
                            </button>
                            <button type="button" class="btn btn-outline-danger btn-sm" onclick="removerFotoPerfil()">
                                <i class="bi bi-trash"></i> Remover Foto
                            </button>
                        </div>
                        
                        <small class="text-muted mt-2 d-block">
                            Formatos aceitos: JPG, PNG, GIF<br>
                            Tamanho m√°ximo: 5MB
                        </small>
                    </div>
                </div>
                
                <!-- Estat√≠sticas -->
                <div class="card">
                    <div class="card-header">
                        <h4>üìä Minhas Estat√≠sticas</h4>
                    </div>
                    <div class="card-body">
                        <div class="stat-item">
                            <div class="stat-icon">üéØ</div>
                            <div class="stat-info">
                                <div class="stat-value" id="questoesRespondidas">0</div>
                                <div class="stat-label">Quest√µes Respondidas</div>
                            </div>
                        </div>
                        
                        <div class="stat-item">
                            <div class="stat-icon">‚≠ê</div>
                            <div class="stat-info">
                                <div class="stat-value" id="xpTotal">0</div>
                                <div class="stat-label">XP Total</div>
                            </div>
                        </div>
                        
                        <div class="stat-item">
                            <div class="stat-icon">üèÜ</div>
                            <div class="stat-info">
                                <div class="stat-value" id="patenteAtual">Iniciante</div>
                                <div class="stat-label">Patente Atual</div>
                            </div>
                        </div>
                        
                        <div class="stat-item">
                            <div class="stat-icon">üìÖ</div>
                            <div class="stat-info">
                                <div class="stat-value" id="ultimoLogin">-</div>
                                <div class="stat-label">√öltimo Login</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Se√ß√£o de Configura√ß√µes -->
        <div class="row mt-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <h3>‚öôÔ∏è Configura√ß√µes</h3>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <h5>üîî Notifica√ß√µes</h5>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="notifEmail" checked>
                                    <label class="form-check-label" for="notifEmail">
                                        Receber notifica√ß√µes por e-mail
                                    </label>
                                </div>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="notifPush" checked>
                                    <label class="form-check-label" for="notifPush">
                                        Notifica√ß√µes push no navegador
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="notifLembretes">
                                    <label class="form-check-label" for="notifLembretes">
                                        Lembretes de estudo
                                    </label>
                                </div>
                            </div>
                            
                            <div class="col-md-6">
                                <h5>üé® Prefer√™ncias</h5>
                                <div class="mb-3">
                                    <label for="tema" class="form-label">Tema</label>
                                    <select class="form-select" id="tema">
                                        <option value="auto">Autom√°tico</option>
                                        <option value="light">Claro</option>
                                        <option value="dark">Escuro</option>
                                    </select>
                                </div>
                                
                                <div class="mb-3">
                                    <label for="questoesPorPagina" class="form-label">Quest√µes por p√°gina</label>
                                    <select class="form-select" id="questoesPorPagina">
                                        <option value="5">5 quest√µes</option>
                                        <option value="10" selected>10 quest√µes</option>
                                        <option value="20">20 quest√µes</option>
                                        <option value="50">50 quest√µes</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <hr>
                        
                        <div class="d-flex justify-content-between align-items-center">
                            <button type="button" class="btn btn-outline-secondary" onclick="resetarConfiguracoes()">
                                <i class="bi bi-arrow-clockwise"></i> Restaurar Padr√µes
                            </button>
                            <button type="button" class="btn btn-primary" onclick="salvarConfiguracoes()">
                                <i class="bi bi-check-circle"></i> Salvar Configura√ß√µes
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.profile-picture-container {
    position: relative;
    display: inline-block;
    cursor: pointer;
}

.profile-picture {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    object-fit: cover;
    border: 3px solid #e9ecef;
    transition: all 0.3s ease;
}

.profile-picture-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.7);
    color: white;
    border-radius: 50%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    opacity: 0;
    transition: opacity 0.3s ease;
    font-size: 0.8rem;
}

.profile-picture-container:hover .profile-picture-overlay {
    opacity: 1;
}

.profile-picture-container:hover .profile-picture {
    border-color: #007bff;
}

.stat-item {
    display: flex;
    align-items: center;
    margin-bottom: 1rem;
    padding: 0.5rem;
    border-radius: 8px;
    background: #f8f9fa;
}

.stat-icon {
    font-size: 1.5rem;
    margin-right: 1rem;
    width: 40px;
    text-align: center;
}

.stat-info {
    flex: 1;
}

.stat-value {
    font-size: 1.2rem;
    font-weight: bold;
    color: #007bff;
}

.stat-label {
    font-size: 0.8rem;
    color: #6c757d;
}

.card {
    border: none;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    border-radius: 12px;
}

.card-header {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border-radius: 12px 12px 0 0 !important;
    border: none;
}

.card-header h3, .card-header h4 {
    margin: 0;
    font-size: 1.2rem;
}

.btn {
    border-radius: 8px;
    padding: 0.5rem 1rem;
    font-weight: 500;
}

.form-control, .form-select {
    border-radius: 8px;
    border: 2px solid #e9ecef;
    transition: border-color 0.3s ease;
}

.form-control:focus, .form-select:focus {
    border-color: #007bff;
    box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
}
</style>